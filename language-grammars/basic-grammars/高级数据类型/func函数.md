# 函数

在Go语言中，函数是一等（first-class）公民，函数类型也是一等的数据类型。  
我们可以把函数作为值来传递和使用。函数不但可以用于封装代码、分割功能、解耦逻辑，还可以化身为普通的值，在其他函数间传递、赋予变量、做类型判断和转换等等。  

函数代表着这样一个过程：它接受若干输入（参数），并经过一些步骤（语句）的执行之后再返回输出（结果）。特别的是，Go语言中的函数可以返回多个结果。


### 声明
函数类型的字面量由关键字func、由圆括号包裹参数声明列表、空格以及可以由圆括号包裹的结果声明列表组成。
* 参数列表：单个参数声明之间是由英文逗号分隔的。每个参数声明由参数名称、空格和参数类型组成。参数声明列表中的参数名称是可以被统一省略的。
* 结果列表：编写方式与参数列表相同。结果声明列表中的结果名称也是可以被统一省略的。并且，在只有一个无名称的结果声明时还可以省略括号。
```
// 函数类型声明
type MyFunc func(param1 string ,param2 string) string
```


### 函数定义
函数值（或简称函数）的写法与此不完全相同。编写函数的时候需要先写关键字func和函数名称，后跟参数声明列表和结果声明列表，最后是由花括号包裹的语句列表。

函数的签名其实就是函数的参数列表和结果列表的统称，它定义了可用来鉴别不同函数的那些特征，同时也定义了我们与函数交互的方式。
* 只要两个函数的参数列表和结果列表中的元素顺序及其类型是一致的，我们就可以说它们是一样的函数，或者说是实现了同一个函数类型的函数。
* 函数的名称也不能算作函数签名的一部分，它只是我们在调用函数时，需要给定的标识符而已。
```
// 如果结果声明是带名称的，那么相当于一个已被声明但未被显式赋值的变量,可以为它赋值且在return语句中省略掉需要返回的结果值
func myFunc(param1 string, param2 string) (result string) {
    result = param1 + param2
    return
}
```


### 匿名函数

匿名函数是指不需要定义函数名的一种函数实现方式。  
在Go里面，函数可以像普通变量一样被传递或使用，Go语言支持随时在代码里定义匿名函数。  
匿名函数由一个不带函数名的函数声明和函数体组成。匿名函数的优越性在于可以直接使用函数内的变量，不必申明。



### 返回值
没有参数的 return 语句返回各个返回变量的当前值。这种用法被称作“裸”返回。
```
func add(a, b int) (c int) {
    c = a + b
    return
}
```



### 值传递
在调用函数时将实际参数复制一份传递到函数中，这样在函数中如果对参数进行修改，将不会影响到实际参数。
```
func swap(x, y int) int {
       ...
  }
```


### 引用传递
在调用函数时将实际参数的地址传递到函数中，那么在函数中对参数所进行的修改，将影响到实际参数。
```
/* 定义相互交换值的函数 */
func swap(x, y *int) {
    var temp int
    temp = *x
    *x = *y
    *y = temp

}
swap(&x, &y)
```



### 值方法和指针方法
* 值方法接收者是该方法所属类型值的一个副本。在方法内对该副本的修改一般不会体现在原值上，除非这个类型本身是某个引用类型的别名类型。
* 指针方法的接收者，是该方法所属的哪个基本类型的指针的副本。在方法内对该副本指向的值进行修改，一定会体现在原值上。
* 一个自定义的数据类型的方法集合中中仅包含所有值方法，而该类型的指针类型的方法集合囊括了前者的所有方法，包括所有值方法和所有指针方法。




### 闭包
“闭包”，指的是一个拥有许多变量和绑定了这些变量的环境的表达式（通常是一个函数），因而这些变量也是该表达式的一部分。
闭包复制的是原对象指针，会出现延迟引用现象。



### 高阶函数
高阶函数可以满足下面的两个条件：
1. 接受其他的函数作为参数传入。
2. 把其他的函数作为结果返回。























# 代码包

代码包是编译和归档Go程序的最基本单位。
package 是最基本的分发单位和工程关系中依赖关系的体现。

### Go源码文件
* 源码文件：名称以 .go 为后缀，内容以go语言代码组成
* 多个go源码文件是需要用代码包组织起来
* 源码文件分三类：
    1. 命令源码文件：声明自己属于main代码包，包含无参数声明，和结果声明的main函数；是go程序的入口。
    2. 库源码文件：不能被直接运行的源码文件，仅用于存放程序实体，这些程序实体可以被其他代码使用。
    3. 测试源码文件（辅助）。


### 代码包说明
* 必须在源文件中非注释的第一行指明这个文件属于哪个包。
* 一个代码包中可以包含任意个以.go 为扩展名的源码文件，每个源文件必须声明其所属的代码包。同一个代码包中的所有源码文件声明的代码包应该是相同的。
* 同一个路径下只能存在一个package，一个package可以拆成多个源文件组成。
* 代码包的名称一般与源文件所在目录同名。如果不同名，那么在构建、安装的过程中会以代码包名称为准。
* 每个代码包都会有导入路径。代码包的导入路径是其他代码在使用该包中的程序实体时，需要引入的路径。代码包声明语句中的包名称应该是该代码包导入路径的最右子路径。



### 导入代码包
在实际使用程序实体之前，我们必须先导入其所在的代码包。代码包的导入语句中使用的包名应该与其导入路径一致。具体的方式就是import该代码包的导入路径。就像这样：

#### 导入依赖包
```
// 导入所依赖的包
import "github.com/labstack/echo"
```

#### 直接导入
```
import (
  "flag"
  "strings"
)
```

#### 别名
```
// 别名str
import str "strings"
```

#### 本地化导入
```
// 本地化导入，可直接使用定义的方法，不写前缀
import . "strings"
```

#### 仅执行初始化函数
```
// 仅执行代码包中初始化函数
import _ "strings"
```

#### 变更存储源码的代码仓库或者代码包的相对路径
对代码包的远程导入路径进行自定义的方法是：在该代码包中的库源码文件的包声明语句的右边加入导入注释，像这样：
```
package semaphore // import "golang.org/x/sync/semaphore"
```


### main包
如果毅哥源码文件属于main包，并且包含一个无参数声明且无结果声明的main函数，那么它是命令源码文件。
```go
// 每个Go语言源码文件开头都拥有一个package声明，表示源码文件所属代码包
package main
func main () {
}
```


### 代码包
当标识符（包括常量、变量、类型、函数名、结构字段等等）以一个大写字母开头，那么使用这种形式的标识符的对象就可以被外部包的代码所使用（客户端程序需要先导入这个包），这被称为导出（像面向对象语言中的 public）；标识符如果以小写字母开头，则对包外是不可见的，但是他们在整个包的内部是可见并且可用的（像面向对象语言中的 protected ）。













